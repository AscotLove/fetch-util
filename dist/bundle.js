!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e};var e=function(r,n,e,t,o){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(r,n,i),i=null),i};var o=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e};function r(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r}function S(e,t){b.apply(e,T(t)?t:[t])}function P(e,t,r,n,o,i,a,c,u,s,l,f,p){var d,y=e;if("function"==typeof a?y=a(t,y):y instanceof Date?y=s(y):"comma"===r&&T(y)&&(y=D.maybeMap(y,function(e){return e instanceof Date?s(e):e}).join(",")),null===y){if(n)return i&&!f?i(t,E.encoder,p,"key"):t;y=""}if("string"==typeof(d=y)||"number"==typeof d||"boolean"==typeof d||"symbol"===k(d)||"bigint"==typeof d||D.isBuffer(y))return i?[l(f?t:i(t,E.encoder,p,"key"))+"="+l(i(y,E.encoder,p,"value"))]:[l(t)+"="+l(String(y))];var h,m,b=[];if(void 0===y)return b;m=T(a)?a:(h=Object.keys(y),c?h.sort(c):h);for(var g=0;g<m.length;++g){var v,O=m[g],j=y[O];o&&null===j||(v=T(y)?"function"==typeof r?r(t,O):t:t+(u?"."+O:"["+O+"]"),S(b,P(j,v,r,n,o,i,a,c,u,s,l,f,p)))}return b}var i,a,c,k=(function(t){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(e){return typeof e}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.exports=r}(i={exports:{}}),i.exports),u=Object.prototype.hasOwnProperty,l=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),D={arrayToObject:r,assign:function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],i=o.obj[o.prop],a=Object.keys(i),c=0;c<a.length;++c){var u=a[c],s=i[u];"object"===k(s)&&null!==s&&-1===r.indexOf(s)&&(t.push({obj:i,prop:u}),r.push(s))}return function(e){for(;1<e.length;){var t=e.pop(),r=t.obj[t.prop];if(l(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var n=e;if("symbol"===k(e)?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var o="",i=0;i<n.length;++i){var a=n.charCodeAt(i);45===a||46===a||95===a||126===a||48<=a&&a<=57||65<=a&&a<=90||97<=a&&a<=122?o+=n.charAt(i):a<128?o+=s[a]:a<2048?o+=s[192|a>>6]+s[128|63&a]:a<55296||57344<=a?o+=s[224|a>>12]+s[128|a>>6&63]+s[128|63&a]:(i+=1,a=65536+((1023&a)<<10|1023&n.charCodeAt(i)),o+=s[240|a>>18]+s[128|a>>12&63]+s[128|a>>6&63]+s[128|63&a])}return o},isBuffer:function(e){return!(!e||"object"!==k(e))&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(l(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function n(o,i,a){if(!i)return o;if("object"!==k(i)){if(l(o))o.push(i);else{if(!o||"object"!==k(o))return[o,i];(a&&(a.plainObjects||a.allowPrototypes)||!u.call(Object.prototype,i))&&(o[i]=!0)}return o}if(!o||"object"!==k(o))return[o].concat(i);var e=o;return l(o)&&!l(i)&&(e=r(o,a)),l(o)&&l(i)?(i.forEach(function(e,t){var r;u.call(o,t)?(r=o[t])&&"object"===k(r)&&e&&"object"===k(e)?o[t]=n(r,e,a):o.push(e):o[t]=e}),o):Object.keys(i).reduce(function(e,t){var r=i[t];return u.call(e,t)?e[t]=n(e[t],r,a):e[t]=r,e},e)}},f=String.prototype.replace,p=/%20/g,d={RFC1738:"RFC1738",RFC3986:"RFC3986"},y=D.assign({default:d.RFC3986,formatters:{RFC1738:function(e){return f.call(e,p,"+")},RFC3986:function(e){return String(e)}}},d),h=Object.prototype.hasOwnProperty,m={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},T=Array.isArray,b=Array.prototype.push,g=Date.prototype.toISOString,v=y.default,E={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:D.encode,encodeValuesOnly:!1,format:v,formatter:y.formatters[v],indices:!1,serializeDate:function(e){return g.call(e)},skipNulls:!1,strictNullHandling:!1},O=(Object.prototype.hasOwnProperty,Array.isArray,function(e,t){var r=e,n=function(e){if(!e)return E;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||E.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=y.default;if(void 0!==e.format){if(!h.call(y.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=y.formatters[r],o=E.filter;return"function"!=typeof e.filter&&!T(e.filter)||(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:E.addQueryPrefix,allowDots:void 0===e.allowDots?E.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:E.charsetSentinel,delimiter:void 0===e.delimiter?E.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:E.encode,encoder:"function"==typeof e.encoder?e.encoder:E.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:E.encodeValuesOnly,filter:o,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:E.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:E.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:E.strictNullHandling}}(t);"function"==typeof n.filter?r=(0,n.filter)("",r):T(n.filter)&&(c=n.filter);var o,i=[];if("object"!==k(r)||null===r)return"";o=t&&t.arrayFormat in m?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat";var a=m[o],c=c||Object.keys(r);n.sort&&c.sort(n.sort);for(var u=0;u<c.length;++u){var s=c[u];n.skipNulls&&null===r[s]||S(i,P(r[s],s,a,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.formatter,n.encodeValuesOnly,n.charset))}var l=i.join(n.delimiter),f=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),0<l.length?f+l:""}),C=function(){function o(e){w(this,o);var t=e.type,r=e.time,n=void 0===r?5e3:r;this.type=t,this.time=n,this.storageType={local:"localStorage",session:"sessionStorage",cookie:"cookie",indexDb:"indexDb",nomal:"nomal"}}return t(o,[{key:"setItem",value:function(e,t){window[this.storageType[this.type]].setItem(e,JSON.stringify({value:t,time:(new Date).getTime()}))}},{key:"getItem",value:function(e){try{var t=JSON.parse(window[this.storageType[this.type]].getItem(e)),r=t.time,n=t.value;return(new Date).getTime()>r+this.time?(window[this.storageType[this.type]].removeItem(e),null):n}catch(e){return null}}}]),o}();function j(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach(function(e){o(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function x(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(Object(r),!0).forEach(function(e){o(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var A=new(function(){function j(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};w(this,j);var t=e.cache,r=void 0===t?"no-cache":t,n=e.credentials,o=void 0===n?"same-origin":n,i=e.headers,a=void 0===i?{}:i,c=e.mode,u=void 0===c?"cors":c,s=e.redirect,l=void 0===s?"follow":s,f=e.referrer,p=void 0===f?"no-referrer":f,d=e.timeOut,y=void 0===d?3e3:d,h=e.BASE_URL,m=void 0===h?"":h,b=e.requestType,g=void 0===b?"JSON":b,v=e.cacheType,O=void 0===v?"":v;this.FetchConfig={cache:r,credentials:o,headers:a,mode:u,redirect:l,referrer:p},this.config={timeOut:y,BASE_URL:m,requestType:g},this.cacheStorage=O?new C({type:O}):"",this.dataOperation={JSON:{headers:{"Content-Type":"application/json"},formatting:function(e){return JSON.stringify(e)}},FormData:{headers:{"Content-Type":"application/x-www-form-urlencoded"},formatting:function(t){var r=new FormData;return Object.keys(t).forEach(function(e){r.append(e,t[e])}),r}}}}return t(j,[{key:"send",value:function(e){var n=e.url,o=e.FetchConfig,t=this.config,i=t.BASE_URL,r=t.timeOut,a=new Promise(function(t,r){fetch(i?"".concat(i,"/").concat(n):n,o).then(function(e){return e.ok?e.json():void r({status:e.status,msg:e.statusText})}).then(function(e){t(e)})}),c=new Promise(function(e){setTimeout(function(){e("time out")},r)});return Promise.race([a,c])}},{key:"preSend",value:function(e){var t=e.url,r=e.params,n=e.headers,o=e.method,i=this.config.requestType,a=N(N({},this.FetchConfig),{},{method:o,headers:N(N({},this.dataOperation[i].headers),n)});return r&&(a.body=this.dataOperation[i].formatting(r)),this.send({url:t,FetchConfig:a})}},{key:"get",value:function(e){var t=this,r=e.url,n=e.query,o=e.headers,i=n?"".concat(r,"?").concat(O(n)):r;return this.cacheStorage?this.cacheStorage.getItem(i)?Promise.resolve(this.cacheStorage.getItem(i)):this.preSend({url:i,headers:o,method:"GET"}).then(function(e){return t.cacheStorage.setItem(i,e),e}):this.preSend({url:i,headers:o,method:"GET"})}},{key:"post",value:function(e){var t=e.url,r=e.query,n=e.params,o=void 0===n?{}:n,i=e.headers;return this.preSend({url:r?"".concat(t,"?").concat(O(r)):t,params:o,headers:i,method:"POST"})}}]),j}())({requestType:"JSON",cacheType:"local"});(new(a=function(e,n){switch(console.log(e),e){case"GET":return function(e,t,r){return F(F({},r),{},{value:function(){A.get({url:n,params:params}).then(function(e){r.value(e)}).catch(function(e){console.log("err====>",e)})}})};default:return function(e,t,r){}}}("GET","https://api.github.com/users/octocat"),e((c=function(){function e(){w(this,e)}return t(e,[{key:"getOct",value:function(e){console.log("result==>",e)}}]),e}()).prototype,"getOct",[a],Object.getOwnPropertyDescriptor(c.prototype,"getOct"),c.prototype),c)).getOct()});
