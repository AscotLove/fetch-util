function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ownKeys(t,e){var r,o=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,r)),o}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var has=Object.prototype.hasOwnProperty,isArray=Array.isArray,hexTable=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),compactQueue=function(e){for(;1<e.length;){var t=e.pop(),r=t.obj[t.prop];if(isArray(r)){for(var o=[],n=0;n<r.length;++n)void 0!==r[n]&&o.push(r[n]);t.obj[t.prop]=o}}},arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(r[o]=e[o]);return r},merge=function o(n,a,i){if(!a)return n;if("object"!==_typeof(a)){if(isArray(n))n.push(a);else{if(!n||"object"!==_typeof(n))return[n,a];(i&&(i.plainObjects||i.allowPrototypes)||!has.call(Object.prototype,a))&&(n[a]=!0)}return n}if(!n||"object"!==_typeof(n))return[n].concat(a);var e=n;return isArray(n)&&!isArray(a)&&(e=arrayToObject(n,i)),isArray(n)&&isArray(a)?(a.forEach(function(e,t){var r;has.call(n,t)?(r=n[t])&&"object"===_typeof(r)&&e&&"object"===_typeof(e)?n[t]=o(r,e,i):n.push(e):n[t]=e}),n):Object.keys(a).reduce(function(e,t){var r=a[t];return has.call(e,t)?e[t]=o(e[t],r,i):e[t]=r,e},e)},assign=function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},decode=function(e,t,r){var o=e.replace(/\+/g," ");if("iso-8859-1"===r)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(e){return o}},encode=function(e,t,r){if(0===e.length)return e;var o=e;if("symbol"===_typeof(e)?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var n="",a=0;a<o.length;++a){var i=o.charCodeAt(a);45===i||46===i||95===i||126===i||48<=i&&i<=57||65<=i&&i<=90||97<=i&&i<=122?n+=o.charAt(a):i<128?n+=hexTable[i]:i<2048?n+=hexTable[192|i>>6]+hexTable[128|63&i]:i<55296||57344<=i?n+=hexTable[224|i>>12]+hexTable[128|i>>6&63]+hexTable[128|63&i]:(a+=1,i=65536+((1023&i)<<10|1023&o.charCodeAt(a)),n+=hexTable[240|i>>18]+hexTable[128|i>>12&63]+hexTable[128|i>>6&63]+hexTable[128|63&i])}return n},compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],o=0;o<t.length;++o)for(var n=t[o],a=n.obj[n.prop],i=Object.keys(a),s=0;s<i.length;++s){var c=i[s],l=a[c];"object"===_typeof(l)&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:a,prop:c}),r.push(l))}return compactQueue(t),e},isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},isBuffer=function(e){return!(!e||"object"!==_typeof(e))&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},combine=function(e,t){return[].concat(e,t)},maybeMap=function(e,t){if(isArray(e)){for(var r=[],o=0;o<e.length;o+=1)r.push(t(e[o]));return r}return t(e)},utils={arrayToObject:arrayToObject,assign:assign,combine:combine,compact:compact,decode:decode,encode:encode,isBuffer:isBuffer,isRegExp:isRegExp,maybeMap:maybeMap,merge:merge},replace=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats=utils.assign({default:Format.RFC3986,formatters:{RFC1738:function(e){return replace.call(e,percentTwenties,"+")},RFC3986:function(e){return String(e)}}},Format),has$1=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},isArray$1=Array.isArray,push=Array.prototype.push,pushToArray=function(e,t){push.apply(e,isArray$1(t)?t:[t])},toISO=Date.prototype.toISOString,defaultFormat=formats.default,defaults={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats.formatters[defaultFormat],indices:!1,serializeDate:function(e){return toISO.call(e)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"===_typeof(e)||"bigint"==typeof e},stringify=function e(t,r,o,n,a,i,s,c,l,u,f,p,d){var y=t;if("function"==typeof s?y=s(r,y):y instanceof Date?y=u(y):"comma"===o&&isArray$1(y)&&(y=utils.maybeMap(y,function(e){return e instanceof Date?u(e):e}).join(",")),null===y){if(n)return i&&!p?i(r,defaults.encoder,d,"key"):r;y=""}if(isNonNullishPrimitive(y)||utils.isBuffer(y))return i?[f(p?r:i(r,defaults.encoder,d,"key"))+"="+f(i(y,defaults.encoder,d,"value"))]:[f(r)+"="+f(String(y))];var h,m,b=[];if(void 0===y)return b;m=isArray$1(s)?s:(h=Object.keys(y),c?h.sort(c):h);for(var g=0;g<m.length;++g){var O,v=m[g],j=y[v];a&&null===j||(O=isArray$1(y)?"function"==typeof o?o(r,v):r:r+(l?"."+v:"["+v+"]"),pushToArray(b,e(j,O,o,n,a,i,s,c,l,u,f,p,d)))}return b},normalizeStringifyOptions=function(e){if(!e)return defaults;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||defaults.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=formats.default;if(void 0!==e.format){if(!has$1.call(formats.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var o=formats.formatters[r],n=defaults.filter;return"function"!=typeof e.filter&&!isArray$1(e.filter)||(n=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:defaults.addQueryPrefix,allowDots:void 0===e.allowDots?defaults.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:defaults.charsetSentinel,delimiter:void 0===e.delimiter?defaults.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:defaults.encode,encoder:"function"==typeof e.encoder?e.encoder:defaults.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:defaults.encodeValuesOnly,filter:n,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:defaults.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:defaults.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:defaults.strictNullHandling}},stringify_1=function(e,t){var r=e,o=normalizeStringifyOptions(t);"function"==typeof o.filter?r=(0,o.filter)("",r):isArray$1(o.filter)&&(s=o.filter);var n,a=[];if("object"!==_typeof(r)||null===r)return"";n=t&&t.arrayFormat in arrayPrefixGenerators?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat";var i=arrayPrefixGenerators[n],s=s||Object.keys(r);o.sort&&s.sort(o.sort);for(var c=0;c<s.length;++c){var l=s[c];o.skipNulls&&null===r[l]||pushToArray(a,stringify(r[l],l,i,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.formatter,o.encodeValuesOnly,o.charset))}var u=a.join(o.delimiter),f=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),0<u.length?f+u:""},has$2=Object.prototype.hasOwnProperty,isArray$2=Array.isArray,defaults$1={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},parseArrayValue=function(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function(e,t){var r,o,n,a,i,s,c={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=t.parameterLimit===1/0?void 0:t.parameterLimit,f=l.split(t.delimiter,u),p=-1,d=t.charset;if(t.charsetSentinel)for(r=0;r<f.length;++r)0===f[r].indexOf("utf8=")&&(f[r]===charsetSentinel?d="utf-8":f[r]===isoSentinel&&(d="iso-8859-1"),p=r,r=f.length);for(r=0;r<f.length;++r){r!==p&&((s=-1===(a=-1===(n=(o=f[r]).indexOf("]="))?o.indexOf("="):n+1)?(i=t.decoder(o,defaults$1.decoder,d,"key"),t.strictNullHandling?null:""):(i=t.decoder(o.slice(0,a),defaults$1.decoder,d,"key"),utils.maybeMap(parseArrayValue(o.slice(a+1),t),function(e){return t.decoder(e,defaults$1.decoder,d,"value")})))&&t.interpretNumericEntities&&"iso-8859-1"===d&&(s=interpretNumericEntities(s)),-1<o.indexOf("[]=")&&(s=isArray$2(s)?[s]:s),has$2.call(c,i)?c[i]=utils.combine(c[i],s):c[i]=s)}return c},parseObject=function(e,t,r,o){for(var n=o?t:parseArrayValue(t,r),a=e.length-1;0<=a;--a){var i,s,c,l=e[a];"[]"===l&&r.parseArrays?i=[].concat(n):(i=r.plainObjects?Object.create(null):{},s="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,c=parseInt(s,10),r.parseArrays||""!==s?!isNaN(c)&&l!==s&&String(c)===s&&0<=c&&r.parseArrays&&c<=r.arrayLimit?(i=[])[c]=n:i[s]=n:i={0:n}),n=i}return n},parseKeys=function(e,t,r,o){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,i=0<r.depth&&/(\[[^[\]]*])/.exec(n),s=i?n.slice(0,i.index):n,c=[];if(s){if(!r.plainObjects&&has$2.call(Object.prototype,s)&&!r.allowPrototypes)return;c.push(s)}for(var l=0;0<r.depth&&null!==(i=a.exec(n))&&l<r.depth;){if(l+=1,!r.plainObjects&&has$2.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(i[1])}return i&&c.push("["+n.slice(i.index)+"]"),parseObject(c,t,r,o)}},normalizeParseOptions=function(e){if(!e)return defaults$1;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?defaults$1.charset:e.charset;return{allowDots:void 0===e.allowDots?defaults$1.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:defaults$1.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:defaults$1.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:defaults$1.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:defaults$1.comma,decoder:"function"==typeof e.decoder?e.decoder:defaults$1.decoder,delimiter:"string"==typeof e.delimiter||utils.isRegExp(e.delimiter)?e.delimiter:defaults$1.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:defaults$1.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:defaults$1.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:defaults$1.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:defaults$1.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:defaults$1.strictNullHandling}},parse=function(e,t){var r=normalizeParseOptions(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var o="string"==typeof e?parseValues(e,r):e,n=r.plainObjects?Object.create(null):{},a=Object.keys(o),i=0;i<a.length;++i)var s=a[i],c=parseKeys(s,o[s],r,"string"==typeof e),n=utils.merge(n,c,r);return utils.compact(n)},lib={formats:formats,parse:parse,stringify:stringify_1},Fetch=function(){function O(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,O);var t=e.cache,r=void 0===t?"no-cache":t,o=e.credentials,n=void 0===o?"same-origin":o,a=e.headers,i=void 0===a?{}:a,s=e.mode,c=void 0===s?"cors":s,l=e.redirect,u=void 0===l?"follow":l,f=e.referrer,p=void 0===f?"no-referrer":f,d=e.timeOut,y=void 0===d?3e3:d,h=e.BASE_URL,m=void 0===h?"":h,b=e.requestType,g=void 0===b?"JSON":b;this.FetchConfig={cache:r,credentials:n,headers:i,mode:c,redirect:u,referrer:p},this.config={timeOut:y,BASE_URL:m,requestType:g},this.dataOperation={JSON:{headers:{Accept:"application/json","Content-Type":"application/json"},formatting:function(e){return JSON.stringify(e)}},FormData:{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},formatting:function(t){var r=new FormData;return Object.keys(t).forEach(function(e){r.append(e,t[e])}),r}}}}return _createClass(O,[{key:"send",value:function(e){var r=this,o=e.url,n=e.params,t=e.method,a=void 0===t?"GET":t,i=e.headers,s=this.config.BASE_URL,c=new Promise(function(t){fetch(s?"".concat(s,"/").concat(o):o,_objectSpread2(_objectSpread2({},r.config),{},{body:n,headers:i,method:a})).then(function(e){return e.json()}).then(function(e){t(e)})}),l=new Promise(function(e){console.log(r.config.timeOut),setTimeout(function(){e("time out")},r.config.timeOut)});return Promise.race([c,l])}},{key:"get",value:function(e){var t=e.url,r=e.query,o=void 0===r?"":r,n=e.params,a=void 0===n?{}:n,i=e.headers,s=this.config.requestType;return this.send({url:o?"".concat(t,"?").concat(lib.stringify(o)):t,params:this.dataOperation[s].formatting(a),headers:_objectSpread2(_objectSpread2({},this.dataOperation[s].headers),i),method:"GET"})}},{key:"post",value:function(e){var t=e.url,r=e.query,o=void 0===r?"":r,n=e.params,a=void 0===n?{}:n,i=e.headers,s=this.config.requestType;return this.send({url:o?"".concat(t,"?").concat(lib.stringify(o)):t,params:this.dataOperation[s].formatting(a),headers:_objectSpread2(_objectSpread2({},this.dataOperation[s].headers),i),method:"POST"})}}]),O}(),fetch$1=new Fetch({requestType:"FormData"});fetch$1.post({url:"https://api.github.com/users/octocat",params:{test:1}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)});
